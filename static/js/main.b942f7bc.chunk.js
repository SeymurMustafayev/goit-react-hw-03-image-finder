(this["webpackJsonpgoit-react-hw-01-components"]=this["webpackJsonpgoit-react-hw-01-components"]||[]).push([[0],{10:function(e,a,t){e.exports={Overlay:"modal_Overlay__1oGyr",Modal:"modal_Modal__XPxL3"}},22:function(e,a,t){e.exports={Button:"button_Button__Hax0N"}},24:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},26:function(e,a,t){e.exports={loader:"loader_loader__3YnrM"}},27:function(e,a,t){e.exports=t(70)},3:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchForm_button:"Searchbar_SearchForm_button__3eKQ3",SearchForm_button_label:"Searchbar_SearchForm_button_label__5zUwS",SearchForm_input:"Searchbar_SearchForm_input__11BIx"}},70:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(21),l=t.n(r),c=t(11),m=t(4),i=t(5),u=t(7),s=t(6),g=t(8),h=t(22),d=t.n(h),p=function(e){var a=e.changePage;return o.a.createElement("button",{onClick:a,className:d.a.Button,type:"button"},"Lode More")},_=t(3),b=t.n(_),f=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(u.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(o)))).state={text:""},t.onChange=function(e){var a=e.target.value;t.setState({text:a})},t.handleSubmit=function(e){e.preventDefault(),(0,t.props.onSubmit)(t.state.text)},t}return Object(g.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.text;return o.a.createElement("div",null,o.a.createElement("header",{className:b.a.Searchbar},o.a.createElement("form",{onSubmit:this.handleSubmit,className:b.a.SearchForm},o.a.createElement("button",{type:"submit",className:b.a.SearchForm_button},o.a.createElement("span",{className:b.a.SearchForm_button_label},"Search")),o.a.createElement("input",{onChange:this.onChange,value:e,className:b.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"}))))}}]),a}(n.Component),y=t(23),S=t.n(y),v="14443381-410a9df7e91443383d0ce3486",E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t="https://pixabay.com/api/?q=".concat(e,"&page=").concat(a,"&key=").concat(v,"&image_type=photo&orientation=horizontal&per_page=12");return S.a.get(t)},I=t(24),C=t.n(I),O=t(9),w=t.n(O),x=function(e){var a=e.url,t=e.alt,n=e.onChangeModal,r=e.modalImage;return o.a.createElement("li",{onClick:function(){return n(r)},className:w.a.ImageGalleryItem},o.a.createElement("img",{src:a,alt:t,className:w.a.ImageGalleryItem_image}))},M=function(e){var a=e.images,t=e.onChangeModal;return o.a.createElement("ul",{className:C.a.ImageGallery},a.map((function(e){return o.a.createElement(x,{key:e.id,url:e.webformatURL,modalImage:e.largeImageURL,alt:e.tags,onChangeModal:t})})))},F=t(10),j=t.n(F),k=function(e){var a=e.modalImage,t=e.onCloseModal;return o.a.createElement("div",{className:j.a.Overlay,onClick:t},o.a.createElement("div",{className:j.a.Modal},o.a.createElement("img",{src:a,alt:"some text"})))},G=t(25),N=t.n(G),L=t(26),B=t.n(L),P=function(){return o.a.createElement("div",{className:B.a.loader},o.a.createElement(N.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}))},q=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(u.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(o)))).state={query:"",images:[],modalOpen:!1,modalLoading:!1,page:1},t.onSubmit=function(e){t.setState({query:e,modalLoading:!0}),E(e).then((function(e){t.setState({images:e.data.hits})})).finally((function(){return t.setState({modalLoading:!1})}))},t.onChangeModal=function(e){t.setState({modalOpen:!0,modalImage:e}),window.addEventListener("keydown",t.onCloseModal)},t.onCloseModal=function(e){e.target!==e.currentTarget&&27!==e.keyCode||t.setState({modalOpen:!1}),window.removeEventListener("keydown",t.onCloseModal)},t.changePage=function(){var e=t.state,a=e.query,n=e.page;E(a,n+1).then((function(e){t.setState((function(a){return{page:a.page+1,images:[].concat(Object(c.a)(a.images),Object(c.a)(e.data.hits))}}))}))},t}return Object(g.a)(a,e),Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this.state.page;a.page!==t&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.modalOpen,n=e.modalImage,r=e.modalLoading;return o.a.createElement("div",null,o.a.createElement(f,{onSubmit:this.onSubmit}),r&&o.a.createElement(P,null),o.a.createElement(M,{images:a,onChangeModal:this.onChangeModal}),a.length>0&&o.a.createElement(p,{changePage:this.changePage}),"e",t&&o.a.createElement(k,{onCloseModal:this.onCloseModal,modalImage:n}))}}]),a}(n.Component);l.a.render(o.a.createElement(q,null),document.getElementById("root"))},9:function(e,a,t){e.exports={ImageGalleryItem:"imageGalleryItem_ImageGalleryItem__2J6d9",ImageGalleryItem_image:"imageGalleryItem_ImageGalleryItem_image__2Rcez"}}},[[27,1,2]]]);
//# sourceMappingURL=main.b942f7bc.chunk.js.map